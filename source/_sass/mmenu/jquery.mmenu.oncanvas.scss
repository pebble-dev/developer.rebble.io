/*
	jQuery.mmenu panels CSS
*/

@use "inc/colors";
@use "inc/mixins";
@use "inc/sizing";
@use "inc/variables";

//	Animations
.mm-menu.mm-horizontal>.mm-panel {
  -webkit-transition: -webkit-transform variables.$mm_transitionDuration variables.$mm_transitionFunction;
  transition: transform variables.$mm_transitionDuration variables.$mm_transitionFunction;
}


//	Generic classes
.mm-menu .mm-hidden {
  display: none;
}


//	Container
.mm-wrapper {
  overflow-x: hidden;
  position: relative;
}

//	Menu
.mm-menu,
.mm-menu>.mm-panel {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  z-index: 0;
}

.mm-menu {
  background: inherit;
  display: block;
  overflow: hidden;
  padding: 0;

  >.mm-panel {
    background: inherit;

    -webkit-overflow-scrolling: touch;
    overflow: scroll;
    overflow-x: hidden;
    overflow-y: auto;

    box-sizing: border-box;
    padding: variables.$mm_padding * 2;

    //	Lists
    .mm-list {
      padding: (variables.$mm_btnSize * 0.5) 0;
    }

    >.mm-list {
      padding-bottom: 0;

      &.mm-opened {
        @include mixins.mm_webkit-prefix('transform', translateX(0%));
      }

      &.mm-subopened {
        @include mixins.mm_webkit-prefix('transform', translateX(-(variables.$mm_subpanelOffset)));
      }

      &.mm-highest {
        z-index: 1;
      }
    }

    //	Lists
    .mm-list {
      padding: variables.$mm_btnSize * 0.5 0;
    }

    >.mm-list {
      padding-bottom: 0;

      &:after {
        content: '';
        display: block;
        height: variables.$mm_btnSize;
      }
    }
  }

  .mm-panel>.mm-list {
    margin-left: -(variables.$mm_padding * 2);
    margin-right: -(variables.$mm_padding * 2);

    &:first-child {
      padding-top: 0;
    }
  }

  .mm-list,
  .mm-list>li {
    list-style: none;
    display: block;
    padding: 0;
    margin: 0;
  }

  .mm-list {
    font: inherit;
    font-size: variables.$mm_fontSize;

    a,
    a:hover {
      text-decoration: none;
    }

    >li {
      position: relative;

      >a,
      >span {
        @include mixins.mm_ellipsis;

        color: inherit;
        line-height: calc(variables.$mm_btnSize - (variables.$mm_padding * 2));
        display: block;
        padding: variables.$mm_padding variables.$mm_padding variables.$mm_padding (
          variables.$mm_padding * 2
        );
      margin: 0;
    }
  }

  >li:not(.mm-subtitle):not(.mm-label):not(.mm-search):not(.mm-noresults) {
    @include mixins.mm_border-bottom;

    &:after {
      width: auto;
      margin-left: (variables.$mm_padding * 2);
      position: relative;
      left: auto;
    }
  }

  // subopen/close
  a.mm-subopen {
    @include mixins.mm_border-left;

    background: rgba(3, 2, 1, 0);
    width: variables.$mm_subopenWidth;
    height: 100%;
    padding: 0;
    position: absolute;
    right: 0;
    top: 0;
    z-index: 2;

    +a,
    +span {
      padding-right: (variables.$mm_padding * 0.5);
      margin-right: variables.$mm_subopenWidth;
    }
  }

  >li.mm-selected {
    >a.mm-subopen {
      background: transparent;
    }

    >a.mm-fullsubopen {

      +a,
      +span {
        padding-right: variables.$mm_btnSize + (variables.$mm_padding * 0.5);
        margin-right: 0;
      }
    }
  }

  a.mm-subclose {
    text-indent: variables.$mm_btnSize - (variables.$mm_padding * 2);
    padding-top: (variables.$mm_btnSize * 0.5) + variables.$mm_padding;
    margin-top: -(variables.$mm_btnSize * 0.5);
  }

  +a,
  +span {
    padding-right: calc(variables.$mm_padding / 2);
    margin-right: variables.$mm_subopenWidth;
  }
}

>li.mm-selected {
  >a.mm-subopen {
    background: transparent;
  }

  font-size: 10px;
  text-transform: uppercase;
  text-indent: variables.$mm_padding * 2;
  line-height: variables.$mm_labelHeight;
  padding-right: variables.$mm_padding * 0.5;
}

>a.mm-fullsubopen {

  +a,
  +span {
    padding-right: calc(variables.$mm_btnSize + (variables.$mm_padding / 2));
    margin-right: 0;
  }
}
}

a.mm-subclose {
  text-indent: calc(variables.$mm_btnSize - (variables.$mm_padding * 2));
  padding-top: calc((variables.$mm_btnSize / 2) + variables.$mm_padding);
  margin-top: - calc(variables.$mm_btnSize / 2);
}

// Labels
ul>li.mm-label {
  @include mixins.mm_ellipsis;

  font-size: 10px;
  text-transform: uppercase;
  text-indent: variables.$mm_padding * 2;
  line-height: variables.$mm_labelHeight;
  padding-right: calc(variables.$mm_padding / 2);
}

// Spacers
ul>li.mm-spacer {
  padding-top: variables.$mm_btnSize;

  &.mm-label {
    padding-top: variables.$mm_labelHeight;
  }
}

// Arrows
a.mm-subopen:after,
a.mm-subclose:before {
  @include mixins.mm_arrow;

  margin-bottom: -5px;
  position: absolute;
  bottom: 50%;
}

a.mm-subopen:after {
  @include mixins.mm_arrow-next;

  right: 18px;
}

a.mm-subclose:before {
  @include mixins.mm_arrow-prev;

  margin-bottom: -(variables.$mm_padding * 2) + 5;
  left: 22px;
}

// vertical submenu
.mm-menu.mm-vertical .mm-list {
  .mm-panel {
    display: none;
    padding: variables.$mm_padding 0 variables.$mm_padding variables.$mm_padding;

    li:last-child:after {
      border-color: transparent;
    }
  }

  li.mm-opened>.mm-panel {
    display: block;
  }

  >li {
    >a.mm-subopen {
      height: variables.$mm_btnSize;

      &:after {
        top: (variables.$mm_btnSize * 0.5) - 4;
        bottom: auto;
      }
    }

    &.mm-opened {
      >a.mm-subopen:after {
        @include mixins.mm_webkit-prefix("transform", rotate(45deg));
      }
    }

    &.mm-label>a.mm-subopen {
      height: variables.$mm_labelHeight;
    }
  }
}

@include colors.mm_colors;
